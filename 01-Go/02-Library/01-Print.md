## Misc
- `fmt`包提供打印或扫描格式化字符串
- 各种类型的值可打印到输出流，也可以打印为字符串
- 打印函数返回值为`(int,err)`，可从第2个返回值判断是否出错
- 打印函数一般包含2种形式：
    - `Printf(format,args...)` 指定打印格式
    - `Print(args...)`         使用默认打印格式(用空格分隔)

## 常用打印函数
- `Errorf()`   格式化字符串并设置给返回的`error`对象
- `Print()`    打印字符串到`os.Stdout`
- `Println()`  打印字符串到`os.Stdout`,末尾添加`\n`
- `Fprint()`   打印字符串到指定`Writer`
- `Sprint()`   格式化字符串并返回

## 常用打印格式
- 通用
    - `%v`   使用数据默认格式
    - `%#v`  数据类型和值(Go语法)
    - `%T`   数据类型
    - `%%`   百分号
- 整数
    - `%b` 2进制    
    - `%d` 10进制
    - `%o` 8进制
    - `%x` 16进制小写
    - `%X` 16进制大写
    - `%U` `UCP(Unicode Code Point)`，如`U+1234`
    - `%c` 把整数视为`UCP`，打印对应的字符
    - `%q` 同`%c`,添加单引号
- 浮点数
    - `%f` 浮点数，无指数
    - `%F` 同`%f`
    - `%e` 科学计数法，如`1.1e+78`
    - `%E` 科学计数法，如`1.1E+78`
    - `%b` 类似科学计数法，指数为2的幂，如`1.1p+78`
    - `%g` 大浮点数使用`%e`，否则使用`%f`
    - `%G` 大浮点数使用`%E`，否则使用`%f`
- 字符串
    - `%s` 字符串
    - `%q` 字符串，添加双引号(`quote`)
    - `%x` 16进制小写UTF8码，2个字符表示1个字节
    - `%X` 16进制大写UTF8码，2个字符表示1个字节
- 指针/Slice
    - `%p` 16进制指针地址，`0x`开头
- 打印字符数
    - 如果输入值长度不够，默认使用前置空格填充
    - `%3v` 至少3个字符
    - `%3f` 至少3个数(含小数点，1个数占1个字符)
- 浮点数格式
    - `%width.precisionf` 
        - `width`    最少包含的数字(含小数点)
        - `precison` 要保留的小数个数
    - `%3f`   至少3个数，默认精度
    - `%3.2f` 至少3个数，保留2位小数
    - `%3.f`  至少3个数，保留0位小数
    - `%.2f`  默认宽度，保留2位小数
- 索引格式
    - `Printf("%[2]v %[1]v %[2]v","a","b")`    > `b a b`
    - `Printf("%[3]*.[2]*[1]f", 12.0, 2, 6")`  > `12.00`
        - 等价于 `Printf("%6.2f", 12.0)`
        - `[3]*.[2]*` 指定宽度和精度        

## Flags
- `+` 总是添加正/负号,或打印`struct`的`field`
- `-` 在右边添加填充符(左对齐)，默认添加前置空格
    - `Printf("%3v","a")`  >`  a`
    - `Printf("%-3v","a")` >`a  `
- ` ` 添加空格
    - `Printf("% x","ab")` >`61 62`
- `0` 添加前置`0`以替代空格
    - `Printf("%03.f",1.0)` >`001`
- `#` 替换格式
    - `%#o`  添加前置`0`
    - `%#x`  添加前置`0x`
    - `%#X`  添加前置`0X`
    - `%#p`  去掉前置`0x`
    - `%#q`  添加反引号，如果`strconv.CanBackquote()==true`
    - `%#U`  如果有则打印对应的字符，如`U+0078 'x'`
    - 总是打印浮点数的小数点，并且对`%g`,`%G`不移除后置`0`

## 复合对象打印值
- `struct`       > `{v1,v2}`
- `array,slice`  > `[e1,e2]`
- `maps`         > `map[k1:v1,k2:v2]`
- 以上类型的指针 > `&{},&[],&map[]`

## 获取打印值规则
- 如果是通用值则先获取底层的具体值，如`interface{}(2)`底层值为`2`
- 获取具体数据类型的值的打印值(优先级从高到低)
    - `Formatter.Format()`
    - 打印`%#v`->`GoStringer.GoString()`
    - 打印`%v` ->`error.Error()`
    - 打印`%v` ->`Stringer.String()`

```
//Sprintf将调用x.String()导致无限递归而报错
type X string
func (x X) String(){
    return Sprintf("%s",x)
}

//以下使用类型转换，调用string.String()避免报错
func (x X) String(){
    return Sprintf("%s",string(x))
}
```